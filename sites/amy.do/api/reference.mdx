---
$id: https://amy.do/api/reference
$type: TechArticle
title: Marketing AI Agent API Reference
description: Complete API reference for Marketing AI Agent
keywords: [api reference, amy.do, documentation, methods]
author:
  $type: Organization
  name: .do Platform
---

# API Reference

Complete API documentation for Marketing AI Agent.

## Agent Creation

### `agent.create(config)`

Create a new agent instance.

**Parameters:**

- `config` (object): Agent configuration

**Configuration Options:**

```typescript
interface AgentConfig {
  $role: string // Agent role
  name?: string // Agent name
  capabilities?: string[] // Capabilities to enable
  model?: string // LLM model ('claude-sonnet-4.5' or 'gpt-5')
  temperature?: number // 0-1, default 0.7
  max_tokens?: number // Maximum tokens, default 4000
  timeout?: number // Timeout in ms, default 30000
  tools?: object // External tools
  cache?: CacheConfig // Cache configuration
  monitoring?: MonitoringConfig // Monitoring configuration
}
```

**Returns:** `Promise<Agent>`

**Example:**

```typescript
import $, { agent } from 'sdk.do'

const marketingAgent = await agent.create({
  $role: $.MarketingAgent,
  name: 'Marketing AI Agent',
  capabilities: ['capability1', 'capability2'],
  model: 'claude-sonnet-4.5',
  temperature: 0.7,
})
```

## Core Methods

### `execute(task)`

Execute a task with the agent.

**Parameters:**

- `task` (object): Task definition

**Task Object:**

```typescript
interface Task {
  task: string // Task description
  context?: object // Additional context
  options?: ExecutionOptions // Execution options
}
```

**Returns:** `Promise<Result>`

**Result Object:**

```typescript
interface Result {
  success: boolean
  data: any
  metadata: {
    execution_time: number
    model_used: string
    tokens_used: number
  }
  confidence: number
  reasoning: string[]
}
```

**Example:**

```typescript
const result = await marketingAgent.execute({
  task: 'Analyze this data',
  context: {
    data: [
      /* data */
    ],
    constraints: ['constraint1', 'constraint2'],
  },
})

console.log(result.data)
```

### `batch(options)`

Execute multiple tasks in batch.

**Parameters:**

- `options` (object): Batch execution options

**Batch Options:**

```typescript
interface BatchOptions {
  items: Task[] // Tasks to execute
  parallel?: number // Parallel execution count
  batch_size?: number // Batch size
  error_handling?: string // 'stop' | 'continue'
}
```

**Returns:** `Promise<Result[]>`

**Example:**

```typescript
const results = await marketingAgent.batch({
  items: Array.from({ length: 100 }, (_, i) => ({
    task: `Task ${i}`,
  })),
  parallel: 10,
  batch_size: 20,
  error_handling: 'continue',
})
```

## Specialized Methods

#### `generate_seo_content()`

Generate SEO-optimized blog posts and social media content

**Parameters:**

- `input` (object): Configuration object
- `options` (object, optional): Execution options

**Returns:** `Promise<Result>`

**Example:**

```typescript
const result = await marketingAgent.generate_seo_content({
  // Configuration
})
```

#### `analyze_audience()`

Segment customers and create detailed personas

**Parameters:**

- `input` (object): Configuration object
- `options` (object, optional): Execution options

**Returns:** `Promise<Result>`

**Example:**

```typescript
const result = await marketingAgent.analyze_audience({
  // Configuration
})
```

#### `plan_campaign()`

Plan and execute multi-channel marketing campaigns

**Parameters:**

- `input` (object): Configuration object
- `options` (object, optional): Execution options

**Returns:** `Promise<Result>`

**Example:**

```typescript
const result = await marketingAgent.plan_campaign({
  // Configuration
})
```

#### `optimize_seo()`

Audit and improve website SEO performance

**Parameters:**

- `input` (object): Configuration object
- `options` (object, optional): Execution options

**Returns:** `Promise<Result>`

**Example:**

```typescript
const result = await marketingAgent.optimize_seo({
  // Configuration
})
```

#### `manage_social()`

Automate social media posting and engagement

**Parameters:**

- `input` (object): Configuration object
- `options` (object, optional): Execution options

**Returns:** `Promise<Result>`

**Example:**

```typescript
const result = await marketingAgent.manage_social({
  // Configuration
})
```

#### `create_email_campaign()`

Design and optimize email marketing campaigns

**Parameters:**

- `input` (object): Configuration object
- `options` (object, optional): Execution options

**Returns:** `Promise<Result>`

**Example:**

```typescript
const result = await marketingAgent.create_email_campaign({
  // Configuration
})
```

#### `develop_messaging()`

Create consistent brand voice and messaging

**Parameters:**

- `input` (object): Configuration object
- `options` (object, optional): Execution options

**Returns:** `Promise<Result>`

**Example:**

```typescript
const result = await marketingAgent.develop_messaging({
  // Configuration
})
```

#### `analyze_competitors()`

Monitor and analyze competitor strategies

**Parameters:**

- `input` (object): Configuration object
- `options` (object, optional): Execution options

**Returns:** `Promise<Result>`

**Example:**

```typescript
const result = await marketingAgent.analyze_competitors({
  // Configuration
})
```

#### `optimize_conversions()`

Improve conversion rates through testing

**Parameters:**

- `input` (object): Configuration object
- `options` (object, optional): Execution options

**Returns:** `Promise<Result>`

**Example:**

```typescript
const result = await marketingAgent.optimize_conversions({
  // Configuration
})
```

#### `track_performance()`

Monitor and report on marketing metrics

**Parameters:**

- `input` (object): Configuration object
- `options` (object, optional): Execution options

**Returns:** `Promise<Result>`

**Example:**

```typescript
const result = await marketingAgent.track_performance({
  // Configuration
})
```

## Monitoring Methods

### `getMetrics(period)`

Get agent performance metrics.

**Parameters:**

- `period` (string): Time period ('last_hour', 'last_24_hours', 'last_week')

**Returns:** `Promise<Metrics>`

**Example:**

```typescript
const metrics = await marketingAgent.getMetrics('last_24_hours')
console.log(metrics)
// {
//   total_requests: 1000,
//   success_rate: 0.98,
//   average_latency: 1500,
//   p95_latency: 2800,
//   token_usage: 50000
// }
```

### `getStatus()`

Get agent status.

**Returns:** `Promise<Status>`

**Example:**

```typescript
const status = await marketingAgent.getStatus()
console.log(status)
// {
//   state: 'running',
//   uptime: 3600000,
//   requests: 1000,
//   errors: 5
// }
```

## Configuration Methods

### `updateConfig(config)`

Update agent configuration.

**Parameters:**

- `config` (object): Configuration updates

**Returns:** `Promise<void>`

**Example:**

```typescript
await marketingAgent.updateConfig({
  temperature: 0.5,
  max_tokens: 2000,
})
```

### `resetCache()`

Reset agent cache.

**Returns:** `Promise<void>`

**Example:**

```typescript
await marketingAgent.resetCache()
```

## State Management

### `getState(key)`

Get agent state.

**Parameters:**

- `key` (string): State key

**Returns:** `Promise<any>`

**Example:**

```typescript
const state = await marketingAgent.getState('workflow_123')
```

### `setState(key, value)`

Set agent state.

**Parameters:**

- `key` (string): State key
- `value` (any): State value

**Returns:** `Promise<void>`

**Example:**

```typescript
await marketingAgent.setState('workflow_123', {
  step: 3,
  data: {
    /* data */
  },
})
```

## Error Handling

All methods throw typed errors:

```typescript
try {
  const result = await marketingAgent.execute(task)
} catch (error) {
  if (error.code === 'RATE_LIMIT_EXCEEDED') {
    // Handle rate limit
  } else if (error.code === 'TIMEOUT') {
    // Handle timeout
  } else if (error.code === 'VALIDATION_ERROR') {
    // Handle validation error
  } else {
    // Handle other errors
  }
}
```

### Error Codes

| Code                  | Description             |
| --------------------- | ----------------------- |
| `AUTH_FAILED`         | Authentication failed   |
| `RATE_LIMIT_EXCEEDED` | Rate limit exceeded     |
| `TIMEOUT`             | Request timeout         |
| `VALIDATION_ERROR`    | Input validation failed |
| `MODEL_ERROR`         | LLM model error         |
| `TOOL_ERROR`          | External tool error     |

## Types

### Agent

```typescript
interface Agent {
  $id: string
  $type: string
  $role: string
  name: string
  model: string
  capabilities: string[]
  execute(task: Task): Promise<Result>
  batch(options: BatchOptions): Promise<Result[]>
  getMetrics(period: string): Promise<Metrics>
  getStatus(): Promise<Status>
  updateConfig(config: Partial<AgentConfig>): Promise<void>
}
```

### Result

```typescript
interface Result {
  success: boolean
  data: any
  metadata: {
    execution_time: number
    model_used: string
    tokens_used: number
  }
  confidence: number
  reasoning: string[]
}
```

## Related Documentation

- [Getting Started](../docs/getting-started) - Setup guide
- [Examples](../examples/basic-usage) - Code examples
- [Best Practices](../docs/best-practices) - Best practices
