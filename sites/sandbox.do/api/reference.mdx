---
$id: https://sandbox.do/api/reference
$type: APIReference
title: sandbox.do API Reference
description: Complete API reference for sandbox.do functions and types
keywords: [sandbox, api, reference, documentation, types]
---

# sandbox.do API Reference

Complete API documentation for sandbox.do functions, types, and interfaces.

## Functions

### sandbox()

Main function for code sandbox.

**Signature:**

```typescript
async function sandbox<T = any>(data: T | SandboxInput, options?: SandboxOptions): Promise<SandboxResult<T>>
```

**Parameters:**

- `data` - Input data to process
- `options` - Optional configuration options

**Returns:** Promise resolving to result object

**Example:**

```typescript
const result = await sandbox({
  data: 'input',
  options: { format: 'json' },
})
```

### sandbox.create()

Create a reusable instance.

**Signature:**

```typescript
function create(config: SandboxConfig): SandboxInstance
```

**Parameters:**

- `config` - Instance configuration

**Returns:** Instance object

**Example:**

```typescript
const instance = sandbox.create({
  timeout: 30000,
  retries: 3,
})

const result = await instance.process(data)
```

### sandbox.batch()

Process multiple items.

**Signature:**

```typescript
async function batch<T>(items: T[], options?: BatchOptions): Promise<SandboxResult<T>[]>
```

**Parameters:**

- `items` - Array of items to process
- `options` - Optional batch options

**Returns:** Promise resolving to array of results

**Example:**

```typescript
const results = await sandbox.batch([item1, item2, item3])
```

### sandbox.stream()

Process data as a stream.

**Signature:**

```typescript
async function* stream<T>(
  data: AsyncIterable<T>,
  options?: StreamOptions
): AsyncGenerator<SandboxResult<T>>
```

**Parameters:**

- `data` - Async iterable data source
- `options` - Optional stream options

**Returns:** Async generator yielding results

**Example:**

```typescript
for await (const result of sandbox.stream(dataStream)) {
  console.log('Result:', result)
}
```

## Types

### SandboxOptions

Configuration options for sandbox().

```typescript
interface SandboxOptions {
  // Format options
  format?: 'json' | 'xml' | 'text'

  // Validation
  validate?: boolean
  strict?: boolean

  // Performance
  timeout?: number
  cache?: boolean
  cacheTTL?: number

  // Error handling
  throwOnError?: boolean
  retries?: number
}
```

### SandboxResult

Result object returned by sandbox().

```typescript
interface SandboxResult<T = any> {
  // Success indicator
  success: boolean

  // Result data
  data?: T

  // Error information
  error?: string
  code?: string

  // Metadata
  metadata?: {
    duration: number
    timestamp: Date
    cached: boolean
  }
}
```

### SandboxConfig

Configuration for creating instances.

```typescript
interface SandboxConfig {
  // API configuration
  apiKey?: string
  endpoint?: string

  // Timeouts
  timeout?: number
  retries?: number

  // Defaults
  defaultOptions?: SandboxOptions
}
```

### SandboxInstance

Instance created by sandbox.create().

```typescript
interface SandboxInstance {
  // Process method
  process<T>(data: T, options?: SandboxOptions): Promise<SandboxResult<T>>

  // Batch method
  batch<T>(items: T[], options?: BatchOptions): Promise<SandboxResult<T>[]>

  // Close instance
  close(): Promise<void>

  // Get metrics
  getMetrics(): Metrics
}
```

### SandboxError

Custom error class.

```typescript
class SandboxError extends Error {
  code: string
  details?: any

  constructor(message: string, code: string, details?: any)
}
```

## Constants

### DEFAULT_OPTIONS

Default options used when none provided.

```typescript
const DEFAULT_OPTIONS: SandboxOptions = {
  format: 'json',
  validate: true,
  timeout: 30000,
  retries: 3,
}
```

## Events

### Instance Events

Instances emit events for monitoring:

```typescript
instance.on('start', (data) => {
  console.log('Processing started:', data)
})

instance.on('complete', (result) => {
  console.log('Processing completed:', result)
})

instance.on('error', (error) => {
  console.error('Processing error:', error)
})
```

## Learn More

- [Getting Started](../docs/getting-started) - Setup guide
- [Examples](../examples/basic-usage) - Code examples
- [Best Practices](../docs/best-practices) - Recommended patterns

---

Part of the [sandbox.do](https://sandbox.do) documentation.
