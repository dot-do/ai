---
$id: https://gateway.do/examples/real-world-use-case
$type: HowTo
title: Real-World API Gateway Use Case
description: Production implementation of API integration platform
keywords: [gateway, production, real-world, integration]
author:
  $type: Organization
  name: .do Platform
---

# Real-World Use Case: Multi-API Integration Platform

## Scenario

Build a platform that integrates with multiple external APIs (Stripe, GitHub, Slack) with authentication, caching, and error handling.

## Implementation

```typescript
import { gateway, db, on } from 'sdk.do'

class IntegrationPlatform {
  constructor() {
    this.setupProviders()
    this.setupEventHandlers()
  }

  private setupProviders() {
    gateway.config({
      auth: {
        providers: {
          stripe: {
            type: 'bearer',
            token: process.env.STRIPE_SECRET_KEY,
          },
          github: {
            type: 'bearer',
            token: process.env.GITHUB_TOKEN,
          },
          slack: {
            type: 'bearer',
            token: process.env.SLACK_TOKEN,
          },
        },
      },
      cache: {
        enabled: true,
        ttl: 300,
      },
      rateLimit: {
        byEndpoint: {
          'api.stripe.com': { requests: 100, window: 1000 },
          'api.github.com': { requests: 5000, window: 3600000 },
          'slack.com/api': { requests: 1, window: 1000 },
        },
      },
    })
  }

  // Stripe integration
  async createCustomer(email: string) {
    return await gateway.post('https://api.stripe.com/v1/customers', {
      auth: { provider: 'stripe' },
      data: { email },
    })
  }

  // GitHub integration
  async getRepositories(username: string) {
    return await gateway.get(`https://api.github.com/users/${username}/repos`, {
      auth: { provider: 'github' },
      cache: { ttl: 600 },
    })
  }

  // Slack integration
  async sendNotification(channel: string, text: string) {
    return await gateway.post('https://slack.com/api/chat.postMessage', {
      auth: { provider: 'slack' },
      data: { channel, text },
    })
  }

  private setupEventHandlers() {
    on($.Order.created, async (event) => {
      const order = event.data

      // Create Stripe payment
      const payment = await this.createCustomer(order.customer.email)

      // Send Slack notification
      await this.sendNotification('#orders', `New order: ${order.id}`)
    })
  }
}
```

## Performance Metrics

- **Response Time**: 50ms (cached) vs 500ms (uncached)
- **Cache Hit Rate**: 60%
- **Error Rate**: <0.1%
- **Throughput**: 10,000 requests/hour

## License

MIT (Open Source)
